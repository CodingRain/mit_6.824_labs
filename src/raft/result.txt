[0]become follower
Test (2D): install snapshots (disconnect) ...
[2]become follower
[1]become follower
[1]election timeout, change state to candidate, start a new election 1704647160399
[1]become candidate
[1]candidate send RequestVote to 2 ok, args={Term:1 CandidateId:1 LastLogIndex:0 LastLogTerm:0}, reply={Term:0 VoteGranted:true}
[1]win the election, get 2 votes(including self), total 3 peers, become leader
[1]candidate send RequestVote to 0 ok, args={Term:1 CandidateId:1 LastLogIndex:0 LastLogTerm:0}, reply={Term:0 VoteGranted:true}
[1]become leader
[1]is leader, try to send heartbeats to 2 1704647160401
[1]is leader, try to send heartbeats to 0 1704647160401
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommit:0}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommit:0}
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommit:0}
[0]AppendEntries second lock a b=0 0, log=[], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommit:0}
[0]follower ready to commit msgs, msgs=[], lastApplied=0
[0]log=[]
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommit:0}
[2]AppendEntries second lock a b=0 0, log=[], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommit:0}
[2]follower ready to commit msgs, msgs=[], lastApplied=0
[2]log=[]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160401
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160402
[1]leader append command 6800518237908547964, index=1,nextIndex=[1 0 1]
[1][d35c3512f8] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[1][785822a00b] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[2]AppendEntries second lock a b=0 0, log=[], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[0]AppendEntries second lock a b=0 0, log=[], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}
[2]follower ready to commit msgs, msgs=[], lastApplied=0
[2]log=[{1 6800518237908547964}]
[0]follower ready to commit msgs, msgs=[], lastApplied=0
[0]log=[{1 6800518237908547964}]
[1][d35c3512f8] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:0}
[1][785822a00b] Replication: send AppendEntries to 2 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Term:1 Command:6800518237908547964}] LeaderCommit:0}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:0}
[1]leader last commit index=0, commitindex=1, matchindex=[1 1 0]
[1]leader ready to commit msgs=[{true 6800518237908547964 1 false [] 0 0}], last applied=0
[1]leader committed index 1, command=6800518237908547964
[1]leader last commit index=1, commitindex=1, matchindex=[1 1 1]
[1]leader ready to commit msgs=[], last applied=1
[1]log=[{1 6800518237908547964}]
[1]is leader, try to send heartbeats to 2 1704647160452
[1]is leader, try to send heartbeats to 0 1704647160452
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[{true 6800518237908547964 1 false [] 0 0}], lastApplied=0
[2]follower committed index 1, command=6800518237908547964, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160452
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[{true 6800518237908547964 1 false [] 0 0}], lastApplied=0
[0]follower committed index 1, command=6800518237908547964, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160452
[1]is leader, try to send heartbeats to 2 1704647160502
[1]is leader, try to send heartbeats to 0 1704647160502
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160502
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160502
[1]is leader, try to send heartbeats to 0 1704647160553
[1]is leader, try to send heartbeats to 2 1704647160553
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160553
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160553
[1]is leader, try to send heartbeats to 0 1704647160603
[1]is leader, try to send heartbeats to 2 1704647160603
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160603
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160603
[1]is leader, try to send heartbeats to 0 1704647160654
[1]is leader, try to send heartbeats to 2 1704647160654
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160654
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160654
[1]is leader, try to send heartbeats to 0 1704647160704
[1]is leader, try to send heartbeats to 2 1704647160704
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160704
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160704
[1]is leader, try to send heartbeats to 2 1704647160755
[1]is leader, try to send heartbeats to 0 1704647160755
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160755
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160755
[1]is leader, try to send heartbeats to 0 1704647160805
[1]is leader, try to send heartbeats to 2 1704647160805
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160805
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160805
[1]is leader, try to send heartbeats to 0 1704647160855
[1]is leader, try to send heartbeats to 2 1704647160855
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160855
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160855
[1]is leader, try to send heartbeats to 0 1704647160905
[1]is leader, try to send heartbeats to 2 1704647160905
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160905
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160905
[1]is leader, try to send heartbeats to 0 1704647160956
[1]is leader, try to send heartbeats to 2 1704647160956
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[2]follower ready to commit msgs, msgs=[], lastApplied=1
[2]log=[{1 6800518237908547964}]
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647160956
[1]is leader, send heartbeats to 0 ok, ok=true 1704647160956
disconnect 2
[1]leader append command 4411796975647244009, index=2,nextIndex=[2 0 2]
[1][58ae512b4c] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009}] LeaderCommit:1}
[1][8c5840e00b] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009}] LeaderCommit:1}
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009}] LeaderCommit:1}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009}] LeaderCommit:1}
[0]AppendEntries second lock a b=1 1, log=[{1 6800518237908547964}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009}] LeaderCommit:1}
[0]follower ready to commit msgs, msgs=[], lastApplied=1
[0]log=[{1 6800518237908547964} {1 4411796975647244009}]
[1][58ae512b4c] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009}] LeaderCommit:1}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:1}
[1]leader last commit index=1, commitindex=2, matchindex=[2 2 1]
[1]leader ready to commit msgs=[{true 4411796975647244009 2 false [] 0 0}], last applied=1
[1]leader committed index 2, command=4411796975647244009
[1]is leader, try to send heartbeats to 2 1704647161006
[1]is leader, try to send heartbeats to 0 1704647161006
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[] LeaderCommit:2}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[] LeaderCommit:2}
[0]AppendEntries second lock a b=2 1, log=[{1 6800518237908547964} {1 4411796975647244009}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[] LeaderCommit:2}
[0]follower ready to commit msgs, msgs=[{true 4411796975647244009 2 false [] 0 0}], lastApplied=1
[0]follower committed index 2, command=4411796975647244009, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[] LeaderCommit:2}
[0]log=[{1 6800518237908547964} {1 4411796975647244009}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161006
[1]leader append command 2382865002002327003, index=3,nextIndex=[3 0 2]
[1]leader append command 1314926805717640665, index=4,nextIndex=[3 0 2]
[1]leader append command 6490566679063503933, index=5,nextIndex=[3 0 2]
[1]leader append command 2798791909778995638, index=6,nextIndex=[3 0 2]
[1][ea75ca290b] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933}] LeaderCommit:2}
[1][697895a83b] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638}] LeaderCommit:2}
[1][1c5d1af632] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638}] LeaderCommit:2}
[1]leader append command 4175691466361860860, index=7,nextIndex=[3 0 2]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933}] LeaderCommit:2}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933}] LeaderCommit:2}
[0]AppendEntries second lock a b=2 1, log=[{1 6800518237908547964} {1 4411796975647244009}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933}] LeaderCommit:2}
[1]leader append command 6122569761246389932, index=8,nextIndex=[3 0 2]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638}] LeaderCommit:2}
[0]follower ready to commit msgs, msgs=[], lastApplied=2
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933}]
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638}] LeaderCommit:2}
[1]leader append command 8688310445238275562, index=9,nextIndex=[3 0 2]
[0]AppendEntries second lock a b=5 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638}] LeaderCommit:2}
[1][ea75ca290b] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933}] LeaderCommit:2}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:2}
[0]follower ready to commit msgs, msgs=[], lastApplied=2
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638}]
[1]leader append command 80171928981888278, index=10,nextIndex=[3 0 2]
[1][697895a83b] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638}] LeaderCommit:2}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:5}
[1][65396cd7df] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[1][26ec5a77cf] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[1]leader last commit index=2, commitindex=6, matchindex=[6 10 1]
[1]leader ready to commit msgs=[{true 2382865002002327003 3 false [] 0 0} {true 1314926805717640665 4 false [] 0 0} {true 6490566679063503933 5 false [] 0 0} {true 2798791909778995638 6 false [] 0 0}], last applied=2
[1]leader committed index 3, command=2382865002002327003
[1]leader committed index 4, command=1314926805717640665
[1]leader committed index 5, command=6490566679063503933
[1]leader committed index 6, command=2798791909778995638
[1][facd912a86] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[1][70bf804995] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][666f5c5f26] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[0]AppendEntries second lock a b=6 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[1][2071b6c452] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][fc6d974292] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][0b5fdb6429] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[1][b1803ebe85] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][3f90bc4c70] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][f6e71723aa] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1]leader last commit index=6, commitindex=6, matchindex=[5 10 1]
[1]leader ready to commit msgs=[], last applied=6
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]follower ready to commit msgs, msgs=[], lastApplied=2
[1][dfc6244d00] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][6c8bebdf85] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:5 PrevLogTerm:1 Entries:[{Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][26ec5a77cf] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:6}
[1]leader last commit index=6, commitindex=10, matchindex=[10 10 1]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:5 PrevLogTerm:1 Entries:[{Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries second lock a b=10 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1]leader ready to commit msgs=[{true 4175691466361860860 7 false [] 0 0} {true 6122569761246389932 8 false [] 0 0} {true 8688310445238275562 9 false [] 0 0} {true 80171928981888278 10 false [] 0 0}], last applied=6
[1]leader committed index 7, command=4175691466361860860
[1]leader committed index 8, command=6122569761246389932
[1]leader committed index 9, command=8688310445238275562
[0]follower ready to commit msgs, msgs=[{true 2382865002002327003 3 false [] 0 0} {true 1314926805717640665 4 false [] 0 0} {true 6490566679063503933 5 false [] 0 0} {true 2798791909778995638 6 false [] 0 0}], lastApplied=2
[0]follower committed index 3, command=2382865002002327003, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]follower committed index 4, command=1314926805717640665, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[0]AppendEntries second lock a b=10 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}
[0]follower committed index 5, command=6490566679063503933, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]follower committed index 6, command=2798791909778995638, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1]Snapshot begin, index=9, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], nextIndex=[11 0 2], size=287, snapshotsize=168
[1]Snapshot ok, index=9, size=106, log=[{1 80171928981888278}]
[1]leader committed index 10, command=80171928981888278
[0]follower ready to commit msgs, msgs=[], lastApplied=4
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}]
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:5 PrevLogTerm:1 Entries:[{Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries second lock a b=10 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:5 PrevLogTerm:1 Entries:[{Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][65396cd7df] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:2 PrevLogTerm:1 Entries:[{Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:10}
[1]leader last commit index=10, commitindex=10, matchindex=[10 10 1]
[1]leader ready to commit msgs=[], last applied=10
[0]follower ready to commit msgs, msgs=[], lastApplied=6
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}]
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries second lock a b=10 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]follower ready to commit msgs, msgs=[], lastApplied=6
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}]
[1][6c8bebdf85] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:5 PrevLogTerm:1 Entries:[{Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:10}
[1]leader last commit index=10, commitindex=10, matchindex=[10 10 1]
[1]leader ready to commit msgs=[], last applied=10
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}]
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[0]AppendEntries second lock a b=10 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}
[1][0b5fdb6429] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:10}
[0]follower ready to commit msgs, msgs=[], lastApplied=6
[0]log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}]
[1][3f90bc4c70] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:10}
[1]leader last commit index=10, commitindex=10, matchindex=[10 10 1]
[1]leader ready to commit msgs=[], last applied=10
[1]leader last commit index=10, commitindex=10, matchindex=[10 10 1]
[1]leader ready to commit msgs=[], last applied=10
[1][fc6d974292] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:6 PrevLogTerm:1 Entries:[{Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:10}
[1]leader last commit index=10, commitindex=10, matchindex=[10 10 1]
[1]leader ready to commit msgs=[], last applied=10
[1]is leader, try to send heartbeats to 0 1704647161057
[1]is leader, try to send heartbeats to 2 1704647161057
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[] LeaderCommit:10}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[] LeaderCommit:10}
[0]AppendEntries second lock a b=10 1, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], indexOffset=0, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[] LeaderCommit:10}
[0]follower ready to commit msgs, msgs=[{true 4175691466361860860 7 false [] 0 0} {true 6122569761246389932 8 false [] 0 0} {true 8688310445238275562 9 false [] 0 0} {true 80171928981888278 10 false [] 0 0}], lastApplied=6
[0]follower committed index 7, command=4175691466361860860, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[] LeaderCommit:10}
[0]follower committed index 8, command=6122569761246389932, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[] LeaderCommit:10}
[0]follower committed index 9, command=8688310445238275562, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[] LeaderCommit:10}
[0]Snapshot begin, index=9, log=[{1 6800518237908547964} {1 4411796975647244009} {1 2382865002002327003} {1 1314926805717640665} {1 6490566679063503933} {1 2798791909778995638} {1 4175691466361860860} {1 6122569761246389932} {1 8688310445238275562} {1 80171928981888278}], nextIndex=[], size=287, snapshotsize=168
[0]Snapshot ok, index=9, size=106, log=[{1 80171928981888278}]
[0]follower committed index 10, command=80171928981888278, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[] LeaderCommit:10}
[0]log=[{1 80171928981888278}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161057
reconnect 2
[1]leader append command 7296537552530869456, index=11,nextIndex=[11 0 2]
[1][0acdb4ad8b] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[{Term:1 Command:7296537552530869456}] LeaderCommit:10}
[1][d5716cea60] Replication: nextIndex=2, snapshotLastIndex=9, need to send InstallSnapShot to 2, req=&{Term:1 LeaderId:1 LastIncludedIndex:9 LastIncludedTerm:1 Data:[3 4 0 18 12 255 139 2 1 2 255 140 0 1 16 0 0 255 149 255 140 0 10 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212]}
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[{Term:1 Command:7296537552530869456}] LeaderCommit:10}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[{Term:1 Command:7296537552530869456}] LeaderCommit:10}
[0]AppendEntries second lock a b=10 1, log=[{1 80171928981888278}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[{Term:1 Command:7296537552530869456}] LeaderCommit:10}
[0]follower ready to commit msgs, msgs=[], lastApplied=10
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[1][0acdb4ad8b] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:10 PrevLogTerm:1 Entries:[{Term:1 Command:7296537552530869456}] LeaderCommit:10}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:10}
[2]InstallSnapShot begin, args=&{Term:1 LeaderId:1 LastIncludedIndex:9 LastIncludedTerm:1 Data:[3 4 0 18 12 255 139 2 1 2 255 140 0 1 16 0 0 255 149 255 140 0 10 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212]}
[2]InstallSnapShot: discard all of log
[1]leader last commit index=10, commitindex=11, matchindex=[11 11 1]
[1]leader ready to commit msgs=[{true 7296537552530869456 11 false [] 0 0}], last applied=10
[1]leader committed index 11, command=7296537552530869456
[1][d5716cea60] Replication: send InstallSnapShot to 2 ok, ok=true, reply=&{Term:1}
[1][d5716cea60] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456}] LeaderCommit:10}
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456}] LeaderCommit:10}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456}] LeaderCommit:10}
[2]AppendEntries second lock a b=9 1, log=[], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456}] LeaderCommit:10}
[2]follower ready to commit msgs, msgs=[{true 80171928981888278 10 false [] 0 0}], lastApplied=9
[2]follower committed index 10, command=80171928981888278, args=&{Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456}] LeaderCommit:10}
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1][d5716cea60] Replication: send AppendEntries to 2 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456}] LeaderCommit:10}, reply={Term:1 Success:true XTerm:0 XIndex:0 XLen:9}
[1]leader last commit index=11, commitindex=11, matchindex=[11 11 11]
[1]leader ready to commit msgs=[], last applied=11
[1]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, try to send heartbeats to 0 1704647161107
[1]is leader, try to send heartbeats to 2 1704647161107
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[{true 7296537552530869456 11 false [] 0 0}], lastApplied=10
[0]follower committed index 11, command=7296537552530869456, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[{true 7296537552530869456 11 false [] 0 0}], lastApplied=10
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161107
[2]follower committed index 11, command=7296537552530869456, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161107
[1]is leader, try to send heartbeats to 0 1704647161158
[1]is leader, try to send heartbeats to 2 1704647161158
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161158
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161158
[1]is leader, try to send heartbeats to 0 1704647161208
[1]is leader, try to send heartbeats to 2 1704647161208
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161208
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161208
[1]is leader, try to send heartbeats to 0 1704647161259
[1]is leader, try to send heartbeats to 2 1704647161259
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161259
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161260
[1]is leader, try to send heartbeats to 2 1704647161310
[1]is leader, try to send heartbeats to 0 1704647161310
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161310
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161310
[1]is leader, try to send heartbeats to 2 1704647161360
[1]is leader, try to send heartbeats to 0 1704647161360
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161360
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161360
[1]is leader, try to send heartbeats to 0 1704647161410
[1]is leader, try to send heartbeats to 2 1704647161410
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161410
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161410
[1]is leader, try to send heartbeats to 2 1704647161461
[1]is leader, try to send heartbeats to 0 1704647161461
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161461
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161461
[1]is leader, try to send heartbeats to 0 1704647161511
[1]is leader, try to send heartbeats to 2 1704647161511
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161511
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161511
[1]is leader, try to send heartbeats to 0 1704647161562
[1]is leader, try to send heartbeats to 2 1704647161562
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161562
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161562
[1]is leader, try to send heartbeats to 2 1704647161612
[1]is leader, try to send heartbeats to 0 1704647161612
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[2]follower ready to commit msgs, msgs=[], lastApplied=11
[2]log=[{1 80171928981888278} {1 7296537552530869456}]
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[1]is leader, send heartbeats to 2 ok, ok=true 1704647161613
[1]is leader, send heartbeats to 0 ok, ok=true 1704647161613
disconnect 1
[1]is leader, try to send heartbeats to 2 1704647161662
[1]is leader, try to send heartbeats to 0 1704647161662
[1]is leader, try to send heartbeats to 0 1704647161713
[1]is leader, try to send heartbeats to 2 1704647161713
[1]is leader, try to send heartbeats to 0 1704647161764
[1]is leader, try to send heartbeats to 2 1704647161764
[1]is leader, try to send heartbeats to 0 1704647161815
[1]is leader, try to send heartbeats to 2 1704647161815
[1]is leader, try to send heartbeats to 2 1704647161865
[1]is leader, try to send heartbeats to 0 1704647161865
[2]election timeout, change state to candidate, start a new election 1704647161900
[2]become candidate
[2]candidate send RequestVote to 0 ok, args={Term:2 CandidateId:2 LastLogIndex:11 LastLogTerm:1}, reply={Term:1 VoteGranted:true}
[2]win the election, get 2 votes(including self), total 3 peers, become leader
[2]become leader
[2]is leader, try to send heartbeats to 0 1704647161901
[2]is leader, try to send heartbeats to 1 1704647161901
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647161901
[2]leader append command 5422182676008575281, index=12,nextIndex=[12 12 0]
[1]is leader, try to send heartbeats to 0 1704647161916
[1]is leader, try to send heartbeats to 2 1704647161916
[2][7c513f0793] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281}] LeaderCommit:11}
[2][4272093277] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281}] LeaderCommit:11}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281}] LeaderCommit:11}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281}] LeaderCommit:11}
[0]AppendEntries second lock a b=11 1, log=[{1 80171928981888278} {1 7296537552530869456}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281}] LeaderCommit:11}
[0]follower ready to commit msgs, msgs=[], lastApplied=11
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281}]
[2][4272093277] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281}] LeaderCommit:11}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:11}
[2]leader last commit index=11, commitindex=12, matchindex=[12 0 12]
[2]leader ready to commit msgs=[{true 5422182676008575281 12 false [] 0 0}], last applied=11
[2]leader committed index 12, command=5422182676008575281
[2]is leader, try to send heartbeats to 0 1704647161952
[2]is leader, try to send heartbeats to 1 1704647161952
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[] LeaderCommit:12}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[] LeaderCommit:12}
[0]AppendEntries second lock a b=12 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[] LeaderCommit:12}
[0]follower ready to commit msgs, msgs=[{true 5422182676008575281 12 false [] 0 0}], lastApplied=11
[0]follower committed index 12, command=5422182676008575281, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[] LeaderCommit:12}
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647161952
[2]leader append command 4638233908615481616, index=13,nextIndex=[13 12 0]
[2]leader append command 6923829548405587844, index=14,nextIndex=[13 12 0]
[2]leader append command 461700746478345401, index=15,nextIndex=[13 12 0]
[2]leader append command 8169055874561389887, index=16,nextIndex=[13 12 0]
[2]leader append command 2747401701572335825, index=17,nextIndex=[13 12 0]
[2]leader append command 53349786778784014, index=18,nextIndex=[13 12 0]
[2]leader append command 1520690956196256752, index=19,nextIndex=[13 12 0]
[2]leader append command 3807171913564767715, index=20,nextIndex=[13 12 0]
[2][d0d4b0b66f] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][8395a638b1] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][fd7a4c516e] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][e18c05c3e3] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][e0a6bf7b3a] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][c6bde5cb36] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][33190e91c6] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][3598cd075b] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][390e24f045] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock a b=12 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][12a4d6ffc5] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][dcb77b0a82] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][5b2fb215b6] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][609a69ca4b] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][74947df7c8] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][0ba4ad9793] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][f8938f2421] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[2][8395a638b1] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:12}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2]leader last commit index=12, commitindex=20, matchindex=[20 0 20]
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2]leader ready to commit msgs=[{true 4638233908615481616 13 false [] 0 0} {true 6923829548405587844 14 false [] 0 0} {true 461700746478345401 15 false [] 0 0} {true 8169055874561389887 16 false [] 0 0} {true 2747401701572335825 17 false [] 0 0} {true 53349786778784014 18 false [] 0 0} {true 1520690956196256752 19 false [] 0 0} {true 3807171913564767715 20 false [] 0 0}], last applied=12
[2]leader committed index 13, command=4638233908615481616
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[2]leader committed index 14, command=6923829548405587844
[2][33190e91c6] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[2]leader committed index 15, command=461700746478345401
[2]leader committed index 16, command=8169055874561389887
[2]leader last commit index=20, commitindex=20, matchindex=[20 0 20]
[2]leader committed index 17, command=2747401701572335825
[2]leader committed index 18, command=53349786778784014
[2]leader ready to commit msgs=[], last applied=16
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[2]leader committed index 19, command=1520690956196256752
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2]Snapshot begin, index=19, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], nextIndex=[21 12 0], size=307, snapshotsize=329
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2]Snapshot ok, index=19, size=106, log=[{2 3807171913564767715}]
[2]leader committed index 20, command=3807171913564767715
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[2][5b2fb215b6] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[2]leader last commit index=20, commitindex=20, matchindex=[20 0 20]
[2]leader ready to commit msgs=[], last applied=20
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[2][c6bde5cb36] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[2]leader last commit index=20, commitindex=20, matchindex=[20 0 20]
[2]leader ready to commit msgs=[], last applied=20
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[2][390e24f045] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[2]leader last commit index=20, commitindex=20, matchindex=[20 0 20]
[2]leader ready to commit msgs=[], last applied=20
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[2][74947df7c8] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[2]leader last commit index=20, commitindex=20, matchindex=[20 0 20]
[2]leader ready to commit msgs=[], last applied=20
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}
[0]follower ready to commit msgs, msgs=[], lastApplied=12
[2][d0d4b0b66f] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[0]log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}]
[2]leader last commit index=20, commitindex=20, matchindex=[20 0 20]
[2]leader ready to commit msgs=[], last applied=20
[2][12a4d6ffc5] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:12 PrevLogTerm:2 Entries:[{Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[2]leader last commit index=20, commitindex=20, matchindex=[20 0 20]
[2]leader ready to commit msgs=[], last applied=20
[1]is leader, try to send heartbeats to 2 1704647161967
[1]is leader, try to send heartbeats to 0 1704647161967
[2]is leader, try to send heartbeats to 0 1704647162002
[2]is leader, try to send heartbeats to 1 1704647162002
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[{true 4638233908615481616 13 false [] 0 0} {true 6923829548405587844 14 false [] 0 0} {true 461700746478345401 15 false [] 0 0} {true 8169055874561389887 16 false [] 0 0} {true 2747401701572335825 17 false [] 0 0} {true 53349786778784014 18 false [] 0 0} {true 1520690956196256752 19 false [] 0 0} {true 3807171913564767715 20 false [] 0 0}], lastApplied=12
[0]follower committed index 13, command=4638233908615481616, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower committed index 14, command=6923829548405587844, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower committed index 15, command=461700746478345401, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower committed index 16, command=8169055874561389887, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower committed index 17, command=2747401701572335825, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower committed index 18, command=53349786778784014, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower committed index 19, command=1520690956196256752, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]Snapshot begin, index=19, log=[{1 80171928981888278} {1 7296537552530869456} {2 5422182676008575281} {2 4638233908615481616} {2 6923829548405587844} {2 461700746478345401} {2 8169055874561389887} {2 2747401701572335825} {2 53349786778784014} {2 1520690956196256752} {2 3807171913564767715}], nextIndex=[], size=307, snapshotsize=329
[0]Snapshot ok, index=19, size=106, log=[{2 3807171913564767715}]
[0]follower committed index 20, command=3807171913564767715, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162003
[1][facd912a86] Replication: send AppendEntries to 2 ok, ok=false, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:2}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[1][facd912a86] Replication: nextIndex=2, snapshotLastIndex=9, need to send InstallSnapShot to 2, req=&{Term:1 LeaderId:1 LastIncludedIndex:9 LastIncludedTerm:1 Data:[3 4 0 18 12 255 139 2 1 2 255 140 0 1 16 0 0 255 149 255 140 0 10 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212]}
[1]is leader, try to send heartbeats to 0 1704647162017
[1]is leader, try to send heartbeats to 2 1704647162017
reconnect 1
[1]leader append command 5313354628858717606, index=12,nextIndex=[12 0 12]
[1][39d3ad2f19] Replication: send AppendEntries to 0, req={Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:1 Command:5313354628858717606}] LeaderCommit:11}
[1][5670487366] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:1 Command:5313354628858717606}] LeaderCommit:11}
[0]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:1 Command:5313354628858717606}] LeaderCommit:11}
[0]log=[{2 3807171913564767715}]
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:1 Command:5313354628858717606}] LeaderCommit:11}
[2]log=[{2 3807171913564767715}]
[1][39d3ad2f19] Replication: send AppendEntries to 0 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:1 Command:5313354628858717606}] LeaderCommit:11}, reply={Term:2 Success:false XTerm:0 XIndex:0 XLen:20}
[1] Replication: find higher term: 2 from [0], self term is 1
, change to follower, cancelfunc=false
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]Replication(main): state is not leader anymore, return
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1][5670487366] Replication: send AppendEntries to 2 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:1 Command:5313354628858717606}] LeaderCommit:11}, reply={Term:2 Success:false XTerm:0 XIndex:0 XLen:20}
[1] Replication: find higher term: 2 from [2], self term is 1
, change to follower, cancelfunc=false
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, try to send heartbeats to 0 1704647162053
[2]is leader, try to send heartbeats to 1 1704647162053
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162054
[1]is leader, send heartbeats to 0 ok, ok=false 1704647162080
[1]become follower
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162084
[2]is leader, try to send heartbeats to 1 1704647162103
[2]is leader, try to send heartbeats to 0 1704647162103
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162103
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162103
[2]is leader, try to send heartbeats to 1 1704647162153
[2]is leader, try to send heartbeats to 0 1704647162153
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162153
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162153
[1][8c5840e00b] Replication: send AppendEntries to 2 ok, ok=false, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009}] LeaderCommit:1}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[1] Replication: state is not leader anymore or destroyed, return
[2]is leader, try to send heartbeats to 1 1704647162204
[2]is leader, try to send heartbeats to 0 1704647162204
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162204
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162204
[2]is leader, try to send heartbeats to 1 1704647162254
[2]is leader, try to send heartbeats to 0 1704647162254
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162254
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162254
[1]is leader, send heartbeats to 0 ok, ok=false 1704647162268
[2]is leader, try to send heartbeats to 0 1704647162305
[2]is leader, try to send heartbeats to 1 1704647162305
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162305
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162305
[2]is leader, try to send heartbeats to 0 1704647162355
[2]is leader, try to send heartbeats to 1 1704647162355
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162355
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162355
[2]is leader, try to send heartbeats to 0 1704647162406
[2]is leader, try to send heartbeats to 1 1704647162406
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162406
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162406
[1]is leader, send heartbeats to 2 ok, ok=false 1704647162426
[2]is leader, try to send heartbeats to 0 1704647162456
[2]is leader, try to send heartbeats to 1 1704647162456
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162456
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162456
[2]is leader, try to send heartbeats to 0 1704647162507
[2]is leader, try to send heartbeats to 1 1704647162507
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162507
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162507
[2]is leader, try to send heartbeats to 0 1704647162557
[2]is leader, try to send heartbeats to 1 1704647162557
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162557
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162557
[2]is leader, try to send heartbeats to 0 1704647162608
[2]is leader, try to send heartbeats to 1 1704647162608
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162608
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162608
[2]is leader, try to send heartbeats to 0 1704647162658
[2]is leader, try to send heartbeats to 1 1704647162658
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162658
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162658
[2]is leader, try to send heartbeats to 0 1704647162709
[2]is leader, try to send heartbeats to 1 1704647162709
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162709
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162709
[2]is leader, try to send heartbeats to 0 1704647162759
[2]is leader, try to send heartbeats to 1 1704647162759
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162759
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162759
[2]is leader, try to send heartbeats to 1 1704647162809
[2]is leader, try to send heartbeats to 0 1704647162809
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162809
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162809
[1][facd912a86] Replication: send InstallSnapShot to 2 ok, ok=false, reply=&{Term:0}
[1][facd912a86] Replication: nextIndex=2, snapshotLastIndex=9, need to send InstallSnapShot to 2, req=&{Term:1 LeaderId:1 LastIncludedIndex:9 LastIncludedTerm:1 Data:[3 4 0 18 12 255 139 2 1 2 255 140 0 1 16 0 0 255 149 255 140 0 10 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212]}
[2]InstallSnapShot begin, args=&{Term:1 LeaderId:1 LastIncludedIndex:9 LastIncludedTerm:1 Data:[3 4 0 18 12 255 139 2 1 2 255 140 0 1 16 0 0 255 149 255 140 0 10 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212]}
[1][facd912a86] Replication: send InstallSnapShot to 2 ok, ok=true, reply=&{Term:2}
[1][facd912a86] Replication: send AppendEntries to 2, req={Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456} {Term:1 Command:5313354628858717606}] LeaderCommit:11}
[2]AppendEntries begin, args=&{Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456} {Term:1 Command:5313354628858717606}] LeaderCommit:11}
[2]log=[{2 3807171913564767715}]
[1][facd912a86] Replication: send AppendEntries to 2 ok, ok=true, req={Term:1 LeaderId:1 PrevLogIndex:9 PrevLogTerm:1 Entries:[{Term:1 Command:80171928981888278} {Term:1 Command:7296537552530869456} {Term:1 Command:5313354628858717606}] LeaderCommit:11}, reply={Term:2 Success:false XTerm:0 XIndex:0 XLen:20}
[1] Replication: find higher term: 2 from [2], self term is 1
, change to follower, cancelfunc=false
[1]is leader, send heartbeats to 2 ok, ok=false 1704647162832
[2]is leader, try to send heartbeats to 0 1704647162860
[2]is leader, try to send heartbeats to 1 1704647162860
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162860
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162860
[2]is leader, try to send heartbeats to 0 1704647162910
[2]is leader, try to send heartbeats to 1 1704647162910
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162910
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162910
[2]is leader, send heartbeats to 1 ok, ok=false 1704647162957
[2]is leader, try to send heartbeats to 0 1704647162961
[2]is leader, try to send heartbeats to 1 1704647162961
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647162961
[2]is leader, send heartbeats to 1 ok, ok=true 1704647162961
[2]is leader, try to send heartbeats to 1 1704647163011
[2]is leader, try to send heartbeats to 0 1704647163011
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163011
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163011
[2]is leader, try to send heartbeats to 0 1704647163061
[2]is leader, try to send heartbeats to 1 1704647163061
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163061
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163061
[2]is leader, try to send heartbeats to 0 1704647163112
[2]is leader, try to send heartbeats to 1 1704647163112
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163112
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163112
[2]is leader, try to send heartbeats to 0 1704647163162
[2]is leader, try to send heartbeats to 1 1704647163162
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163162
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163162
[2]is leader, try to send heartbeats to 1 1704647163212
[2]is leader, try to send heartbeats to 0 1704647163213
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163213
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163213
[2]is leader, try to send heartbeats to 1 1704647163263
[2]is leader, try to send heartbeats to 0 1704647163263
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163263
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163263
[2]is leader, try to send heartbeats to 0 1704647163313
[2]is leader, try to send heartbeats to 1 1704647163313
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163313
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163313
[1]is leader, send heartbeats to 2 ok, ok=false 1704647163328
[2]is leader, try to send heartbeats to 0 1704647163364
[2]is leader, try to send heartbeats to 1 1704647163364
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163364
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163364
[2]is leader, try to send heartbeats to 1 1704647163414
[2]is leader, try to send heartbeats to 0 1704647163414
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163414
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163414
[2]is leader, try to send heartbeats to 0 1704647163464
[2]is leader, try to send heartbeats to 1 1704647163464
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163464
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163464
[2]is leader, try to send heartbeats to 0 1704647163514
[2]is leader, try to send heartbeats to 1 1704647163514
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163514
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163514
[2]is leader, try to send heartbeats to 0 1704647163564
[2]is leader, try to send heartbeats to 1 1704647163564
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163565
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163565
[2]is leader, try to send heartbeats to 0 1704647163615
[2]is leader, try to send heartbeats to 1 1704647163615
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163615
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163615
[2]is leader, try to send heartbeats to 1 1704647163665
[2]is leader, try to send heartbeats to 0 1704647163665
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163665
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163665
[2]is leader, try to send heartbeats to 0 1704647163716
[2]is leader, try to send heartbeats to 1 1704647163716
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=12 1, log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}], indexOffset=9, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]log=[{1 80171928981888278} {1 7296537552530869456} {1 5313354628858717606}]
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163716
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163716
[2][e18c05c3e3] Replication: send AppendEntries to 1 ok, ok=false, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[2][e18c05c3e3] Replication: nextIndex=12, snapshotLastIndex=19, need to send InstallSnapShot to 1, req=&{Term:2 LeaderId:2 LastIncludedIndex:19 LastIncludedTerm:2 Data:[3 4 0 38 12 255 139 2 1 2 255 140 0 1 16 0 0 254 1 53 255 140 0 20 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212 3 105 110 116 4 10 0 248 2 57 167 227 167 216 186 44 3 105 110 116 4 10 0 248 202 133 4 125 153 205 25 160 3 105 110 116 4 10 0 248 150 126 236 212 237 137 66 98 3 105 110 116 4 10 0 248 128 188 162 84 184 101 18 32 3 105 110 116 4 10 0 248 192 44 196 148 156 34 255 8 3 105 110 116 4 10 0 248 12 208 148 195 244 191 185 114 3 105 110 116 4 10 0 248 226 188 162 18 163 25 106 126 3 105 110 116 4 10 0 248 76 65 118 149 27 11 177 162 3 105 110 116 4 10 0 248 1 123 18 178 99 149 162 28 3 105 110 116 4 10 0 248 42 53 40 188 66 116 55 224]}
[1]InstallSnapShot begin, args=&{Term:2 LeaderId:2 LastIncludedIndex:19 LastIncludedTerm:2 Data:[3 4 0 38 12 255 139 2 1 2 255 140 0 1 16 0 0 254 1 53 255 140 0 20 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212 3 105 110 116 4 10 0 248 2 57 167 227 167 216 186 44 3 105 110 116 4 10 0 248 202 133 4 125 153 205 25 160 3 105 110 116 4 10 0 248 150 126 236 212 237 137 66 98 3 105 110 116 4 10 0 248 128 188 162 84 184 101 18 32 3 105 110 116 4 10 0 248 192 44 196 148 156 34 255 8 3 105 110 116 4 10 0 248 12 208 148 195 244 191 185 114 3 105 110 116 4 10 0 248 226 188 162 18 163 25 106 126 3 105 110 116 4 10 0 248 76 65 118 149 27 11 177 162 3 105 110 116 4 10 0 248 1 123 18 178 99 149 162 28 3 105 110 116 4 10 0 248 42 53 40 188 66 116 55 224]}
[1]InstallSnapShot: discard all of log
[2][e18c05c3e3] Replication: send InstallSnapShot to 1 ok, ok=true, reply=&{Term:2}
[2][e18c05c3e3] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715}] LeaderCommit:20}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715}] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715}] LeaderCommit:20}
[1]AppendEntries second lock a b=19 2, log=[], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715}] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[{true 3807171913564767715 20 false [] 0 0}], lastApplied=19
[1]follower committed index 20, command=3807171913564767715, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715}] LeaderCommit:20}
[1]log=[{2 3807171913564767715}]
[2][e18c05c3e3] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715}] LeaderCommit:20}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:19}
[2]leader last commit index=20, commitindex=20, matchindex=[20 20 20]
[2]leader ready to commit msgs=[], last applied=20
[2]log=[{2 3807171913564767715}]
[2]is leader, try to send heartbeats to 1 1704647163766
[2]is leader, try to send heartbeats to 0 1704647163766
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[], lastApplied=20
[1]log=[{2 3807171913564767715}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163766
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163766
[2]is leader, try to send heartbeats to 0 1704647163817
[2]is leader, try to send heartbeats to 1 1704647163817
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163817
[1]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[], lastApplied=20
[1]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163817
[2]is leader, try to send heartbeats to 1 1704647163867
[2]is leader, try to send heartbeats to 0 1704647163867
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[], lastApplied=20
[1]log=[{2 3807171913564767715}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163867
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163867
[1]is leader, send heartbeats to 2 ok, ok=false 1704647163907
[2]is leader, try to send heartbeats to 0 1704647163917
[2]is leader, try to send heartbeats to 1 1704647163917
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[], lastApplied=20
[1]log=[{2 3807171913564767715}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163917
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163917
[2]is leader, try to send heartbeats to 0 1704647163968
[2]is leader, try to send heartbeats to 1 1704647163968
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[2]is leader, send heartbeats to 0 ok, ok=true 1704647163968
[1]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[], lastApplied=20
[1]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647163968
[2]is leader, try to send heartbeats to 0 1704647164018
[2]is leader, try to send heartbeats to 1 1704647164018
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[], lastApplied=20
[1]log=[{2 3807171913564767715}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164018
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164018
[2]leader append command 5313354628858717606, index=21,nextIndex=[21 21 0]
[2][f0b7372ebb] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[2][f2588c7d1e] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[1]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[1]follower ready to commit msgs, msgs=[], lastApplied=20
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[0]AppendEntries second lock a b=20 2, log=[{2 3807171913564767715}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}
[0]follower ready to commit msgs, msgs=[], lastApplied=20
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2][f0b7372ebb] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[2]leader last commit index=20, commitindex=21, matchindex=[20 21 21]
[2]leader ready to commit msgs=[{true 5313354628858717606 21 false [] 0 0}], last applied=20
[2]leader committed index 21, command=5313354628858717606
[2][f2588c7d1e] Replication: send AppendEntries to 0 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:20 PrevLogTerm:2 Entries:[{Term:2 Command:5313354628858717606}] LeaderCommit:20}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:20}
[2]leader last commit index=21, commitindex=21, matchindex=[21 21 21]
[2]leader ready to commit msgs=[], last applied=21
[2]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1][666f5c5f26] Replication: send AppendEntries to 2 ok, ok=false, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[1] Replication: state is not leader anymore or destroyed, return
[2][609a69ca4b] Replication: send AppendEntries to 1 ok, ok=false, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[2][609a69ca4b] Replication: nextIndex=12, snapshotLastIndex=19, need to send InstallSnapShot to 1, req=&{Term:2 LeaderId:2 LastIncludedIndex:19 LastIncludedTerm:2 Data:[3 4 0 38 12 255 139 2 1 2 255 140 0 1 16 0 0 254 1 53 255 140 0 20 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212 3 105 110 116 4 10 0 248 2 57 167 227 167 216 186 44 3 105 110 116 4 10 0 248 202 133 4 125 153 205 25 160 3 105 110 116 4 10 0 248 150 126 236 212 237 137 66 98 3 105 110 116 4 10 0 248 128 188 162 84 184 101 18 32 3 105 110 116 4 10 0 248 192 44 196 148 156 34 255 8 3 105 110 116 4 10 0 248 12 208 148 195 244 191 185 114 3 105 110 116 4 10 0 248 226 188 162 18 163 25 106 126 3 105 110 116 4 10 0 248 76 65 118 149 27 11 177 162 3 105 110 116 4 10 0 248 1 123 18 178 99 149 162 28 3 105 110 116 4 10 0 248 42 53 40 188 66 116 55 224]}
[1]InstallSnapShot begin, args=&{Term:2 LeaderId:2 LastIncludedIndex:19 LastIncludedTerm:2 Data:[3 4 0 38 12 255 139 2 1 2 255 140 0 1 16 0 0 254 1 53 255 140 0 20 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212 3 105 110 116 4 10 0 248 2 57 167 227 167 216 186 44 3 105 110 116 4 10 0 248 202 133 4 125 153 205 25 160 3 105 110 116 4 10 0 248 150 126 236 212 237 137 66 98 3 105 110 116 4 10 0 248 128 188 162 84 184 101 18 32 3 105 110 116 4 10 0 248 192 44 196 148 156 34 255 8 3 105 110 116 4 10 0 248 12 208 148 195 244 191 185 114 3 105 110 116 4 10 0 248 226 188 162 18 163 25 106 126 3 105 110 116 4 10 0 248 76 65 118 149 27 11 177 162 3 105 110 116 4 10 0 248 1 123 18 178 99 149 162 28 3 105 110 116 4 10 0 248 42 53 40 188 66 116 55 224]}
[1]InstallSnapShot: snapshotPrevLogIndex and snapShotPrevLogTerm match
[2][609a69ca4b] Replication: send InstallSnapShot to 1 ok, ok=true, reply=&{Term:2}
[2][609a69ca4b] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[{true 5313354628858717606 21 false [] 0 0}], lastApplied=20
[1]follower committed index 21, command=5313354628858717606, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2][609a69ca4b] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:21}
[2]leader last commit index=21, commitindex=21, matchindex=[21 21 21]
[2]leader ready to commit msgs=[], last applied=21
[2]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1][1c5d1af632] Replication: send AppendEntries to 2 ok, ok=false, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638}] LeaderCommit:2}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[1] Replication: state is not leader anymore or destroyed, return
[2]is leader, try to send heartbeats to 0 1704647164069
[2]is leader, try to send heartbeats to 1 1704647164069
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[{true 5313354628858717606 21 false [] 0 0}], lastApplied=20
[0]follower committed index 21, command=5313354628858717606, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164069
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164069
[2]is leader, send heartbeats to 1 ok, ok=false 1704647164085
[1]is leader, send heartbeats to 0 ok, ok=false 1704647164110
[2]is leader, try to send heartbeats to 0 1704647164119
[2]is leader, try to send heartbeats to 1 1704647164119
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164119
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164119
[2]is leader, try to send heartbeats to 0 1704647164169
[2]is leader, try to send heartbeats to 1 1704647164169
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164169
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164169
[2]is leader, try to send heartbeats to 0 1704647164220
[2]is leader, try to send heartbeats to 1 1704647164220
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164220
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164220
[2][e0a6bf7b3a] Replication: send AppendEntries to 1 ok, ok=false, req={Term:2 LeaderId:2 PrevLogIndex:11 PrevLogTerm:1 Entries:[{Term:2 Command:5422182676008575281} {Term:2 Command:4638233908615481616} {Term:2 Command:6923829548405587844} {Term:2 Command:461700746478345401} {Term:2 Command:8169055874561389887} {Term:2 Command:2747401701572335825} {Term:2 Command:53349786778784014} {Term:2 Command:1520690956196256752} {Term:2 Command:3807171913564767715}] LeaderCommit:12}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[2][e0a6bf7b3a] Replication: nextIndex=12, snapshotLastIndex=19, need to send InstallSnapShot to 1, req=&{Term:2 LeaderId:2 LastIncludedIndex:19 LastIncludedTerm:2 Data:[3 4 0 38 12 255 139 2 1 2 255 140 0 1 16 0 0 254 1 53 255 140 0 20 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212 3 105 110 116 4 10 0 248 2 57 167 227 167 216 186 44 3 105 110 116 4 10 0 248 202 133 4 125 153 205 25 160 3 105 110 116 4 10 0 248 150 126 236 212 237 137 66 98 3 105 110 116 4 10 0 248 128 188 162 84 184 101 18 32 3 105 110 116 4 10 0 248 192 44 196 148 156 34 255 8 3 105 110 116 4 10 0 248 12 208 148 195 244 191 185 114 3 105 110 116 4 10 0 248 226 188 162 18 163 25 106 126 3 105 110 116 4 10 0 248 76 65 118 149 27 11 177 162 3 105 110 116 4 10 0 248 1 123 18 178 99 149 162 28 3 105 110 116 4 10 0 248 42 53 40 188 66 116 55 224]}
[1]InstallSnapShot begin, args=&{Term:2 LeaderId:2 LastIncludedIndex:19 LastIncludedTerm:2 Data:[3 4 0 38 12 255 139 2 1 2 255 140 0 1 16 0 0 254 1 53 255 140 0 20 0 3 105 110 116 4 10 0 248 188 192 150 157 6 53 114 248 3 105 110 116 4 10 0 248 122 115 179 243 5 49 125 210 3 105 110 116 4 10 0 248 66 35 70 48 80 30 75 182 3 105 110 116 4 10 0 248 36 127 29 237 16 224 203 178 3 105 110 116 4 10 0 248 180 38 64 3 33 34 72 122 3 105 110 116 4 10 0 248 77 174 156 211 157 58 115 108 3 105 110 116 4 10 0 248 115 230 18 135 160 65 229 248 3 105 110 116 4 10 0 248 169 239 121 132 167 71 77 88 3 105 110 116 4 10 0 248 241 38 40 162 117 124 155 212 3 105 110 116 4 10 0 248 2 57 167 227 167 216 186 44 3 105 110 116 4 10 0 248 202 133 4 125 153 205 25 160 3 105 110 116 4 10 0 248 150 126 236 212 237 137 66 98 3 105 110 116 4 10 0 248 128 188 162 84 184 101 18 32 3 105 110 116 4 10 0 248 192 44 196 148 156 34 255 8 3 105 110 116 4 10 0 248 12 208 148 195 244 191 185 114 3 105 110 116 4 10 0 248 226 188 162 18 163 25 106 126 3 105 110 116 4 10 0 248 76 65 118 149 27 11 177 162 3 105 110 116 4 10 0 248 1 123 18 178 99 149 162 28 3 105 110 116 4 10 0 248 42 53 40 188 66 116 55 224]}
[1]InstallSnapShot: snapshotPrevLogIndex and snapShotPrevLogTerm match
[2][e0a6bf7b3a] Replication: send InstallSnapShot to 1 ok, ok=true, reply=&{Term:2}
[2][e0a6bf7b3a] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2][e0a6bf7b3a] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:19 PrevLogTerm:2 Entries:[{Term:2 Command:3807171913564767715} {Term:2 Command:5313354628858717606}] LeaderCommit:21}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:21}
[2]leader last commit index=21, commitindex=21, matchindex=[21 21 21]
[2]leader ready to commit msgs=[], last applied=21
[2]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, try to send heartbeats to 0 1704647164270
[2]is leader, try to send heartbeats to 1 1704647164270
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164270
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164270
[1][dfc6244d00] Replication: send AppendEntries to 2 ok, ok=false, req={Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[{Term:1 Command:4411796975647244009} {Term:1 Command:2382865002002327003} {Term:1 Command:1314926805717640665} {Term:1 Command:6490566679063503933} {Term:1 Command:2798791909778995638} {Term:1 Command:4175691466361860860} {Term:1 Command:6122569761246389932} {Term:1 Command:8688310445238275562} {Term:1 Command:80171928981888278}] LeaderCommit:6}, reply={Term:0 Success:false XTerm:0 XIndex:0 XLen:0}
[1] Replication: state is not leader anymore or destroyed, return
[2]is leader, try to send heartbeats to 0 1704647164320
[2]is leader, try to send heartbeats to 1 1704647164320
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164321
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164321
[2]is leader, try to send heartbeats to 0 1704647164371
[2]is leader, try to send heartbeats to 1 1704647164371
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164371
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164371
[2]is leader, try to send heartbeats to 0 1704647164422
[2]is leader, try to send heartbeats to 1 1704647164422
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164422
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164422
[2]is leader, try to send heartbeats to 0 1704647164472
[2]is leader, try to send heartbeats to 1 1704647164472
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164472
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164472
[2]is leader, try to send heartbeats to 1 1704647164523
[2]is leader, try to send heartbeats to 0 1704647164522
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164523
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164523
[2]is leader, try to send heartbeats to 0 1704647164573
[2]is leader, try to send heartbeats to 1 1704647164573
[0]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[0]follower ready to commit msgs, msgs=[], lastApplied=21
[0]log=[{2 3807171913564767715} {2 5313354628858717606}]
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606}]
[2]is leader, send heartbeats to 0 ok, ok=true 1704647164573
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164573
disconnect 0
[2]leader append command 7388454351633289812, index=22,nextIndex=[22 22 0]
[2][45fe60fe19] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812}] LeaderCommit:21}
[2][1a710b118c] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812}] LeaderCommit:21}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812}] LeaderCommit:21}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812}] LeaderCommit:21}
[1]AppendEntries second lock a b=21 2, log=[{2 3807171913564767715} {2 5313354628858717606}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812}] LeaderCommit:21}
[1]follower ready to commit msgs, msgs=[], lastApplied=21
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812}]
[2][45fe60fe19] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812}] LeaderCommit:21}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:21}
[2]leader last commit index=21, commitindex=22, matchindex=[21 22 22]
[2]leader ready to commit msgs=[{true 7388454351633289812 22 false [] 0 0}], last applied=21
[2]leader committed index 22, command=7388454351633289812
[2]is leader, try to send heartbeats to 0 1704647164623
[2]is leader, try to send heartbeats to 1 1704647164623
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[] LeaderCommit:22}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[] LeaderCommit:22}
[1]AppendEntries second lock a b=22 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[] LeaderCommit:22}
[1]follower ready to commit msgs, msgs=[{true 7388454351633289812 22 false [] 0 0}], lastApplied=21
[1]follower committed index 22, command=7388454351633289812, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[] LeaderCommit:22}
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812}]
[2]is leader, send heartbeats to 1 ok, ok=true 1704647164623
[2]leader append command 8525248519169880958, index=23,nextIndex=[22 23 0]
[2]leader append command 4393224691930175221, index=24,nextIndex=[22 23 0]
[2]leader append command 8883468841786424153, index=25,nextIndex=[22 23 0]
[2]leader append command 4638383787941650766, index=26,nextIndex=[22 23 0]
[2]leader append command 1372428794188972501, index=27,nextIndex=[22 23 0]
[2]leader append command 7936840394221608472, index=28,nextIndex=[22 23 0]
[2]leader append command 4154391032103434409, index=29,nextIndex=[22 23 0]
[2][b08d2333f1] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409}] LeaderCommit:22}
[2]leader append command 6824524718347141695, index=30,nextIndex=[22 23 0]
[2][b31b07bdc4] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409}] LeaderCommit:22}
[2][ce4190a2ee] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409}] LeaderCommit:22}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409}] LeaderCommit:22}
[2][699462ec30] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][77f242891b] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][a29119eb2d] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][4bd46341bb] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][a96f503887] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][f77741ea7c] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][748e452a9c] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409}] LeaderCommit:22}
[1]AppendEntries second lock a b=22 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409}] LeaderCommit:22}
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409}]
[2][ba4abd01e9] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][be65252f39] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][56beefc1e6] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][7bacfe39ed] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][cfa6ffc459] Replication: send AppendEntries to 1, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][b08d2333f1] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:22}
[2]leader last commit index=22, commitindex=29, matchindex=[21 29 30]
[2][fd6254a5d7] Replication: send AppendEntries to 0, req={Term:2 LeaderId:2 PrevLogIndex:21 PrevLogTerm:2 Entries:[{Term:2 Command:7388454351633289812} {Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2]leader ready to commit msgs=[{true 8525248519169880958 23 false [] 0 0} {true 4393224691930175221 24 false [] 0 0} {true 8883468841786424153 25 false [] 0 0} {true 4638383787941650766 26 false [] 0 0} {true 1372428794188972501 27 false [] 0 0} {true 7936840394221608472 28 false [] 0 0} {true 4154391032103434409 29 false [] 0 0}], last applied=22
[2]leader committed index 23, command=8525248519169880958
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries begin, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries second lock a b=29 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}]
[2]leader committed index 24, command=4393224691930175221
[2][f77741ea7c] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:29}
[2]leader last commit index=29, commitindex=30, matchindex=[21 30 30]
[2]leader ready to commit msgs=[{true 6824524718347141695 30 false [] 0 0}], last applied=24
[2]leader committed index 25, command=8883468841786424153
[2]leader committed index 26, command=4638383787941650766
[2]leader committed index 27, command=1372428794188972501
[2]leader committed index 28, command=7936840394221608472
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries second lock a b=30 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2]leader committed index 29, command=4154391032103434409
[2]Snapshot begin, index=29, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}], nextIndex=[22 31 0], size=307, snapshotsize=489
[2]Snapshot ok, index=29, size=106, log=[{2 6824524718347141695}]
[2]leader committed index 30, command=6824524718347141695
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}]
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][4bd46341bb] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:30}
[1]AppendEntries second lock a b=30 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[2]leader last commit index=30, commitindex=30, matchindex=[21 30 30]
[2]leader ready to commit msgs=[], last applied=30
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}]
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][ba4abd01e9] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:30}
[1]AppendEntries second lock a b=30 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[2]leader last commit index=30, commitindex=30, matchindex=[21 30 30]
[2]leader ready to commit msgs=[], last applied=30
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}]
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries second lock a b=30 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][a29119eb2d] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:30}
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[2]leader last commit index=30, commitindex=30, matchindex=[21 30 30]
[2]leader ready to commit msgs=[], last applied=30
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}]
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries second lock a b=30 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][cfa6ffc459] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:30}
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[2]leader last commit index=30, commitindex=30, matchindex=[21 30 30]
[2]leader ready to commit msgs=[], last applied=30
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}]
[1]AppendEntries second lock get, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[1]AppendEntries second lock a b=30 2, log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}], indexOffset=19, args=&{Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}
[2][77f242891b] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:30}
[1]follower ready to commit msgs, msgs=[], lastApplied=22
[1]log=[{2 3807171913564767715} {2 5313354628858717606} {2 7388454351633289812} {2 8525248519169880958} {2 4393224691930175221} {2 8883468841786424153} {2 4638383787941650766} {2 1372428794188972501} {2 7936840394221608472} {2 4154391032103434409} {2 6824524718347141695}]
[2]leader last commit index=30, commitindex=30, matchindex=[21 30 30]
[2]leader ready to commit msgs=[], last applied=30
[2][56beefc1e6] Replication: send AppendEntries to 1 ok, ok=true, req={Term:2 LeaderId:2 PrevLogIndex:22 PrevLogTerm:2 Entries:[{Term:2 Command:8525248519169880958} {Term:2 Command:4393224691930175221} {Term:2 Command:8883468841786424153} {Term:2 Command:4638383787941650766} {Term:2 Command:1372428794188972501} {Term:2 Command:7936840394221608472} {Term:2 Command:4154391032103434409} {Term:2 Command:6824524718347141695}] LeaderCommit:22}, reply={Term:2 Success:true XTerm:0 XIndex:0 XLen:30}
[2]leader last commit index=30, commitindex=30, matchindex=[21 30 30]
[2]leader ready to commit msgs=[], last applied=30
signal: interrupt
FAIL	6.5840/raft	4.686s
